(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{394:function(e,c,t){"use strict";t(1);var s=t(392),r=t(22);c.a=e=>Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(s.a,{color:e.data.color,children:Object(r.jsx)("strong",{children:e.data.alertMsg})})})},396:function(e,c,t){"use strict";var s=t(1),r=t.n(s),l=t(392),i=t(22);const j=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(l.I,{backdrop:"static",visible:e.open,onClose:()=>e.close(),children:[Object(i.jsx)(l.L,{children:Object(i.jsx)(l.M,{children:e.titleModal})}),Object(i.jsx)(l.J,{children:e.descModal}),Object(i.jsxs)(l.K,{children:[Object(i.jsx)(l.f,{color:"secondary",onClick:()=>e.close(),children:"Close"}),Object(i.jsx)(l.f,{color:"primary",onClick:()=>{e.data(e.itemID),e.close()},children:"Ok"})]})]})});c.a=r.a.memo(j)},397:function(e,c,t){"use strict";t(1),t(398);var s=t(399),r=t(22);c.a=e=>Object(r.jsxs)(s.a,{width:"100%",height:550,viewBox:"0 0 1000 550",backgroundColor:"#eaeced",foregroundColor:"#ffffff",...e,children:[Object(r.jsx)("rect",{x:"51",y:"45",rx:"3",ry:"3",width:"906",height:"17"}),Object(r.jsx)("circle",{cx:"879",cy:"123",r:"11"}),Object(r.jsx)("circle",{cx:"914",cy:"123",r:"11"}),Object(r.jsx)("rect",{x:"104",y:"115",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"305",y:"114",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"661",y:"114",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"55",y:"155",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("circle",{cx:"880",cy:"184",r:"11"}),Object(r.jsx)("circle",{cx:"915",cy:"184",r:"11"}),Object(r.jsx)("rect",{x:"105",y:"176",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"306",y:"175",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"662",y:"175",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"56",y:"216",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("circle",{cx:"881",cy:"242",r:"11"}),Object(r.jsx)("circle",{cx:"916",cy:"242",r:"11"}),Object(r.jsx)("rect",{x:"106",y:"234",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"307",y:"233",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"663",y:"233",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"57",y:"274",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("circle",{cx:"882",cy:"303",r:"11"}),Object(r.jsx)("circle",{cx:"917",cy:"303",r:"11"}),Object(r.jsx)("rect",{x:"107",y:"295",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"308",y:"294",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"664",y:"294",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"58",y:"335",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("circle",{cx:"881",cy:"363",r:"11"}),Object(r.jsx)("circle",{cx:"916",cy:"363",r:"11"}),Object(r.jsx)("rect",{x:"106",y:"355",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"307",y:"354",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"663",y:"354",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"57",y:"395",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("circle",{cx:"882",cy:"424",r:"11"}),Object(r.jsx)("circle",{cx:"917",cy:"424",r:"11"}),Object(r.jsx)("rect",{x:"107",y:"416",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"308",y:"415",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"664",y:"415",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"55",y:"453",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("rect",{x:"51",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(r.jsx)("rect",{x:"955",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(r.jsx)("circle",{cx:"882",cy:"484",r:"11"}),Object(r.jsx)("circle",{cx:"917",cy:"484",r:"11"}),Object(r.jsx)("rect",{x:"107",y:"476",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"308",y:"475",rx:"3",ry:"3",width:"299",height:"15"}),Object(r.jsx)("rect",{x:"664",y:"475",rx:"3",ry:"3",width:"141",height:"15"}),Object(r.jsx)("rect",{x:"55",y:"513",rx:"3",ry:"3",width:"897",height:"2"}),Object(r.jsx)("rect",{x:"52",y:"80",rx:"3",ry:"3",width:"906",height:"17"}),Object(r.jsx)("rect",{x:"53",y:"57",rx:"3",ry:"3",width:"68",height:"33"}),Object(r.jsx)("rect",{x:"222",y:"54",rx:"3",ry:"3",width:"149",height:"33"}),Object(r.jsx)("rect",{x:"544",y:"55",rx:"3",ry:"3",width:"137",height:"33"}),Object(r.jsx)("rect",{x:"782",y:"56",rx:"3",ry:"3",width:"72",height:"33"}),Object(r.jsx)("rect",{x:"933",y:"54",rx:"3",ry:"3",width:"24",height:"33"})]})},578:function(e,c,t){"use strict";t.r(c);var s=t(1),r=t(397),l=t(16),i=t(392),j=t(394),a=t(565),o=t(401),x=t(467),h=t.n(x),n=t(513),d=t(22);function b(e){let{rootElementID:c,downloadFileName:t}=e;return Object(d.jsx)("div",{children:Object(d.jsxs)(i.f,{onClick:()=>{const e=document.getElementById(c);h()(e).then((function(e){const c=e.toDataURL("image/png"),s=Object(n.a)("p","pt","a4");s.addImage(c,"JPEG",35,35),s.save(t)}))},children:[Object(d.jsx)(o.a,{icon:a.a,className:"me-2"}),"Download"]})})}var m=t(396),O=t(566),y=t(567),g=t(568),u=t(569);function p(e){return"".concat(e.toFixed(2))}c.default=()=>{const[e,c]=Object(s.useState)(),[t,a]=Object(s.useState)(200),[x,h]=Object(s.useState)(!0),[n,w]=Object(s.useState)(!1),[f,N]=Object(s.useState)(!1),[v,E]=Object(s.useState)("processing"),[F,k]=Object(s.useState)({alertMsg:"",color:"success"}),[C,S]=Object(s.useState)(!1),T=Object(l.i)();let D=0;return Object(s.useEffect)((()=>{(async()=>{const e=T.id;try{const t=await fetch("".concat("https://express-server-a.herokuapp.com","/api/order/view/")+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}});if(200!==t.status)throw new Error;const s=await t.json();c(s.order),h(!1)}catch(t){console.error(t),w(!0)}})()}),[t]),x?Object(d.jsx)(r.a,{}):Object(d.jsxs)("div",{children:[Object(d.jsx)(m.a,{open:C,close:S,data:async c=>{h(!0);let t=c;const s=e._id;try{const e=await fetch("".concat("https://express-server-a.herokuapp.com","/api/order/")+s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")},body:JSON.stringify({status:t})});if(200===e.status){const c=await e.json();a(c),N(!1),w(!0),k({alertMsg:"Updated successfully!",color:"success"})}h(!1)}catch(r){w(!0),k({alertMsg:"Internal server Error",color:"warning"}),N(!1),console.error(r)}},itemID:v,onClick:()=>{S(!1)},titleModal:"Change status of Order?",descModal:"It will update permanently and will sent an email to the client",visible:C}),Object(d.jsxs)(i.U,{children:[Object(d.jsx)(i.l,{xs:5,sm:7,children:Object(d.jsxs)(i.h,{className:"mb-4",children:[Object(d.jsx)(i.k,{children:Object(d.jsx)("strong",{children:"Billing Details"})}),Object(d.jsx)(i.i,{children:Object(d.jsxs)(i.U,{className:"mb-3",children:[Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Ordered By"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:e.orderedUser.firstName})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Email Address"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:e.orderedUser.email})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Telephone"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:e.orderedUser.phoneNumber})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Date"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:e.dateOrder.slice(0,10)})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Status"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:["pending"===e.status?Object(d.jsx)(i.c,{color:"primary",children:e.status}):null,"processing"===e.status?Object(d.jsx)(i.c,{color:"info",children:e.status}):null,"shipped"===e.status?Object(d.jsx)(i.c,{color:"warning",children:e.status}):null,"delivered"===e.status?Object(d.jsx)(i.c,{color:"success",children:e.status}):null,"cancelled"===e.status?Object(d.jsx)(i.c,{color:"danger",children:e.status}):null]})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Total"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsxs)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:["LKR ",p(e.subTotalPrice+e.city.price)]})})]})})]})}),"cancelled"!==e.status&&"delivered"!==e.status?Object(d.jsx)(i.l,{xs:4,children:Object(d.jsxs)(i.h,{className:"mb-4",children:[Object(d.jsx)(i.k,{children:Object(d.jsx)("strong",{children:"Update status"})}),Object(d.jsxs)(i.i,{children:[Object(d.jsx)(i.l,{xs:12,children:n?Object(d.jsx)(j.a,{data:F}):null}),Object(d.jsx)("span",{children:Object(d.jsxs)(i.f,{color:"danger",size:"sm",className:"px-4",onClick:()=>{S(!0),E("cancelled")},children:[f?Object(d.jsx)(i.Z,{component:"span",size:"sm",variant:"grow","aria-hidden":"true"}):Object(d.jsx)(o.a,{icon:O.a,className:"me-2"}),f?"Loading":"Cancel"]})})," ","pending"===e.status?Object(d.jsx)("span",{children:Object(d.jsxs)(i.f,{color:"info",size:"sm",className:"px-4",onClick:()=>{S(!0),E("processing")},children:[f?Object(d.jsx)(i.Z,{component:"span",size:"sm",variant:"grow","aria-hidden":"true"}):Object(d.jsx)(o.a,{icon:y.a,className:"me-2"}),f?"Loading":"Processing"]})}):null,"processing"===e.status?Object(d.jsx)("span",{children:Object(d.jsxs)(i.f,{color:"warning",size:"sm",className:"px-4",onClick:()=>{S(!0),E("shipped")},children:[f?Object(d.jsx)(i.Z,{component:"span",size:"sm",variant:"grow","aria-hidden":"true"}):Object(d.jsx)(o.a,{icon:g.a,className:"me-2"}),f?"Loading":"Shipped"]})}):null,"shipped"===e.status?Object(d.jsx)("span",{children:Object(d.jsxs)(i.f,{color:"success",size:"sm",className:"px-4",onClick:()=>{S(!0),E("delivered")},children:[f?Object(d.jsx)(i.Z,{component:"span",size:"sm",variant:"grow","aria-hidden":"true"}):Object(d.jsx)(o.a,{icon:u.a,className:"me-2"}),f?"Loading":"Delivered"]})}):null]})]})}):void 0]}),Object(d.jsxs)("div",{id:"pageToDownload",children:[Object(d.jsx)(i.U,{children:Object(d.jsx)(i.l,{xs:6,sm:7,children:Object(d.jsxs)(i.h,{className:"mb-4",children:[Object(d.jsx)(i.k,{children:Object(d.jsx)("strong",{children:"Shipping Details"})}),Object(d.jsx)(i.i,{children:Object(d.jsxs)(i.U,{className:"mb-3",children:[Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Receiver Name"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:e.receiverName})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Telephone"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:e.phoneNumber})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Address"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-6 col-form-label",children:e.shippingAddress})}),Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"City"}),Object(d.jsx)("div",{className:"col-sm-10",children:Object(d.jsx)(i.x,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:e.city.city})})]})})]})})}),Object(d.jsx)(i.U,{children:Object(d.jsx)(i.l,{xs:8,sm:7,children:Object(d.jsxs)(i.h,{className:"mb-4",children:[Object(d.jsx)(i.k,{children:Object(d.jsx)("strong",{children:"Order Details"})}),Object(d.jsx)(i.i,{children:Object(d.jsx)(i.l,{xs:12,children:Object(d.jsxs)(i.h,{className:"mb-4",children:[Object(d.jsxs)(i.k,{children:[Object(d.jsx)("strong",{children:"Order Details Table"})," ",Object(d.jsxs)("small",{children:["Order ID : ",e.orderNumber]})]}),Object(d.jsxs)(i.cb,{bordered:!0,children:[Object(d.jsx)(i.fb,{children:Object(d.jsxs)(i.hb,{children:[Object(d.jsx)(i.gb,{scope:"col",children:"#"}),Object(d.jsx)(i.gb,{scope:"col",children:"Product Name"}),Object(d.jsx)(i.gb,{scope:"col",children:"Quantity"}),Object(d.jsx)(i.gb,{scope:"col",children:"Product Total"})]})}),Object(d.jsxs)(i.db,{children:[e.orderItem.map(((e,c)=>(D=e.quantity*e.product.price,Object(d.jsxs)(i.hb,{children:[Object(d.jsx)(i.eb,{children:c+1}),Object(d.jsx)(i.eb,{children:e.product.productName}),Object(d.jsx)(i.eb,{children:e.quantity}),Object(d.jsxs)(i.eb,{children:["LKR ",p(D)]})]},c)))),Object(d.jsxs)(i.hb,{children:[Object(d.jsx)(i.eb,{}),Object(d.jsx)(i.gb,{colSpan:"2",children:"Sub Total"}),Object(d.jsxs)(i.eb,{children:["LKR ",p(e.subTotalPrice)]})]}),Object(d.jsxs)(i.hb,{children:[Object(d.jsx)(i.eb,{}),Object(d.jsx)(i.gb,{colSpan:"2",children:"Delivery Charges"}),Object(d.jsxs)(i.eb,{children:["LKR ",p(e.city.price)]})]}),Object(d.jsxs)(i.hb,{children:[Object(d.jsx)(i.eb,{}),Object(d.jsx)(i.gb,{colSpan:"2",children:"Total Price"}),Object(d.jsxs)(i.eb,{children:["LKR ",p(e.subTotalPrice+e.city.price)]})]})]})]})]})})})]})})})]}),Object(d.jsx)(b,{rootElementID:"pageToDownload",downloadFileName:e._id})]})}}}]);
//# sourceMappingURL=27.2a68e34e.chunk.js.map