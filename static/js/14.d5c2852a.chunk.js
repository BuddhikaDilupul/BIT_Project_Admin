(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{394:function(e,t,r){"use strict";r(1);var c=r(392),i=r(22);t.a=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c.a,{color:e.data.color,children:Object(i.jsx)("strong",{children:e.data.alertMsg})})})},396:function(e,t,r){"use strict";var c=r(1),i=r.n(c),a=r(392),s=r(22);const o=e=>Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(a.I,{backdrop:"static",visible:e.open,onClose:()=>e.close(),children:[Object(s.jsx)(a.L,{children:Object(s.jsx)(a.M,{children:e.titleModal})}),Object(s.jsx)(a.J,{children:e.descModal}),Object(s.jsxs)(a.K,{children:[Object(s.jsx)(a.f,{color:"secondary",onClick:()=>e.close(),children:"Close"}),Object(s.jsx)(a.f,{color:"primary",onClick:()=>{e.data(e.itemID),e.close()},children:"Ok"})]})]})});t.a=i.a.memo(o)},397:function(e,t,r){"use strict";r(1),r(398);var c=r(399),i=r(22);t.a=e=>Object(i.jsxs)(c.a,{width:"100%",height:550,viewBox:"0 0 1000 550",backgroundColor:"#eaeced",foregroundColor:"#ffffff",...e,children:[Object(i.jsx)("rect",{x:"51",y:"45",rx:"3",ry:"3",width:"906",height:"17"}),Object(i.jsx)("circle",{cx:"879",cy:"123",r:"11"}),Object(i.jsx)("circle",{cx:"914",cy:"123",r:"11"}),Object(i.jsx)("rect",{x:"104",y:"115",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"305",y:"114",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"661",y:"114",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"55",y:"155",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("circle",{cx:"880",cy:"184",r:"11"}),Object(i.jsx)("circle",{cx:"915",cy:"184",r:"11"}),Object(i.jsx)("rect",{x:"105",y:"176",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"306",y:"175",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"662",y:"175",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"56",y:"216",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("circle",{cx:"881",cy:"242",r:"11"}),Object(i.jsx)("circle",{cx:"916",cy:"242",r:"11"}),Object(i.jsx)("rect",{x:"106",y:"234",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"307",y:"233",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"663",y:"233",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"57",y:"274",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("circle",{cx:"882",cy:"303",r:"11"}),Object(i.jsx)("circle",{cx:"917",cy:"303",r:"11"}),Object(i.jsx)("rect",{x:"107",y:"295",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"308",y:"294",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"664",y:"294",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"58",y:"335",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("circle",{cx:"881",cy:"363",r:"11"}),Object(i.jsx)("circle",{cx:"916",cy:"363",r:"11"}),Object(i.jsx)("rect",{x:"106",y:"355",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"307",y:"354",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"663",y:"354",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"57",y:"395",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("circle",{cx:"882",cy:"424",r:"11"}),Object(i.jsx)("circle",{cx:"917",cy:"424",r:"11"}),Object(i.jsx)("rect",{x:"107",y:"416",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"308",y:"415",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"664",y:"415",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"55",y:"453",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("rect",{x:"51",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(i.jsx)("rect",{x:"955",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(i.jsx)("circle",{cx:"882",cy:"484",r:"11"}),Object(i.jsx)("circle",{cx:"917",cy:"484",r:"11"}),Object(i.jsx)("rect",{x:"107",y:"476",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"308",y:"475",rx:"3",ry:"3",width:"299",height:"15"}),Object(i.jsx)("rect",{x:"664",y:"475",rx:"3",ry:"3",width:"141",height:"15"}),Object(i.jsx)("rect",{x:"55",y:"513",rx:"3",ry:"3",width:"897",height:"2"}),Object(i.jsx)("rect",{x:"52",y:"80",rx:"3",ry:"3",width:"906",height:"17"}),Object(i.jsx)("rect",{x:"53",y:"57",rx:"3",ry:"3",width:"68",height:"33"}),Object(i.jsx)("rect",{x:"222",y:"54",rx:"3",ry:"3",width:"149",height:"33"}),Object(i.jsx)("rect",{x:"544",y:"55",rx:"3",ry:"3",width:"137",height:"33"}),Object(i.jsx)("rect",{x:"782",y:"56",rx:"3",ry:"3",width:"72",height:"33"}),Object(i.jsx)("rect",{x:"933",y:"54",rx:"3",ry:"3",width:"24",height:"33"})]})},398:function(e,t,r){},399:function(e,t,r){"use strict";var c=r(1),i=function(){return i=Object.assign||function(e){for(var t,r=1,c=arguments.length;r<c;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};var a=function(e){var t=e.animate,r=e.animateBegin,a=e.backgroundColor,s=e.backgroundOpacity,o=e.baseUrl,n=e.children,l=e.foregroundColor,h=e.foregroundOpacity,j=e.gradientRatio,d=e.gradientDirection,x=e.uniqueKey,b=e.interval,u=e.rtl,y=e.speed,O=e.style,p=e.title,g=e.beforeMask,m=function(e,t){var r={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(r[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(c=Object.getOwnPropertySymbols(e);i<c.length;i++)t.indexOf(c[i])<0&&Object.prototype.propertyIsEnumerable.call(e,c[i])&&(r[c[i]]=e[c[i]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),f=x||Math.random().toString(36).substring(6),w=f+"-diff",v=f+"-animated-diff",C=f+"-aria",k=u?{transform:"scaleX(-1)"}:null,S="0; "+b+"; 1",E=y+"s",M="top-bottom"===d?"rotate(90)":void 0;return Object(c.createElement)("svg",i({"aria-labelledby":C,role:"img",style:i(i({},O),k)},m),p?Object(c.createElement)("title",{id:C},p):null,g&&Object(c.isValidElement)(g)?g:null,Object(c.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+w+")",style:{fill:"url("+o+"#"+v+")"}}),Object(c.createElement)("defs",null,Object(c.createElement)("clipPath",{id:w},n),Object(c.createElement)("linearGradient",{id:v,gradientTransform:M},Object(c.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:s},t&&Object(c.createElement)("animate",{attributeName:"offset",values:-j+"; "+-j+"; 1",keyTimes:S,dur:E,repeatCount:"indefinite",begin:r})),Object(c.createElement)("stop",{offset:"50%",stopColor:l,stopOpacity:h},t&&Object(c.createElement)("animate",{attributeName:"offset",values:-j/2+"; "+-j/2+"; "+(1+j/2),keyTimes:S,dur:E,repeatCount:"indefinite",begin:r})),Object(c.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:s},t&&Object(c.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+j),keyTimes:S,dur:E,repeatCount:"indefinite",begin:r})))))};a.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var s=function(e){return e.children?Object(c.createElement)(a,i({},e)):Object(c.createElement)(o,i({},e))},o=function(e){return Object(c.createElement)(s,i({viewBox:"0 0 476 124"},e),Object(c.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(c.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.a=s},408:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"]},420:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z' class='ci-primary'/>"]},421:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));const c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M345.994,42.019,179.531,208.481A646.3,646.3,0,0,0,25.325,456.521a24.845,24.845,0,0,0,6,25.708l.087.087a24.84,24.84,0,0,0,17.611,7.342,25.172,25.172,0,0,0,8.1-1.344,646.283,646.283,0,0,0,248.04-154.207L471.62,167.646A88.831,88.831,0,0,0,345.994,42.019ZM282.531,311.48A614.445,614.445,0,0,1,60.419,453.221,614.435,614.435,0,0,1,202.158,231.108l99.162-99.161,80.372,80.372ZM448.993,145.019l-44.674,44.673L323.947,109.32l44.674-44.674a56.832,56.832,0,1,1,80.372,80.373Z' class='ci-primary'/>"]},434:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));const c=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"]},558:function(e,t,r){"use strict";r.r(t);var c=r(1),i=r(16),a=r(392),s=r(401),o=r(434),n=r(420),l=r(408),h=r(421),j=r(396),d=r(394),x=r(397),b=r(22);t.default=()=>{const e=Object(i.g)(),[t,r]=Object(c.useState)({}),[u,y]=Object(c.useState)({}),[O,p]=Object(c.useState)("all"),[g,m]=Object(c.useState)();var[f,w]=Object(c.useState)([]);const[v,C]=Object(c.useState)([]),[k,S]=Object(c.useState)(!0),[E,M]=Object(c.useState)(!1),N=localStorage.getItem("isAdmin"),[T,A]=Object(c.useState)(),[P,I]=Object(c.useState)(!1);var[f,w]=Object(c.useState)([]);const[Z,D]=Object(c.useState)({alertMsg:"",color:"success"}),[B,H]=Object(c.useState)(1);const L=async()=>{H(1),f.splice(0,f.length),v.splice(0,v.length),I(!1);try{const e=await fetch("".concat("https://express-server-a.herokuapp.com","/api/search/product"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")},body:JSON.stringify({searchData:T,category:O})});if(200===e.status){const t=await e.json();for(let e=1;e<=Math.ceil(t.products.length/10);e++)v.push(e);for(let e=0;e<10&&e<t.products.length;e++)f.push(t.products[e]);t.products.length>0&&I(!1),r(t.products),S(!1)}404===e.status&&(I(!0),D({alertMsg:"No product found",color:"warning"}))}catch(e){I(!0),D({alertMsg:"We are encountering an issue! ",color:"warning"}),console.error(e)}};return Object(c.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("https://express-server-a.herokuapp.com","/api/product/list"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}}),t=await fetch("".concat("https://express-server-a.herokuapp.com","/api/category/list"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}});if(200===t.status){const e=await t.json();y(e.categories),S(!1)}if(200==e.status){const t=await e.json();for(let e=1;e<=Math.ceil(t.products.length/10);e++)v.push(e);for(let e=0;e<10&&e<t.products.length;e++)f.push(t.products[e]);r(t.products),S(!1)}404==e.status&&(S(!1),I(!0),D({alertMsg:"No data found ",color:"warning"}))}catch(e){console.error(e),I(!0),D({alertMsg:"We are encountering an issue! ",color:"warning"})}})()}),[]),k?Object(b.jsx)(x.a,{}):Object(b.jsxs)(b.Fragment,{children:["true"===N?Object(b.jsxs)(a.f,{color:"primary",className:"mb-3",onClick:()=>e.push("/newproduct"),children:[Object(b.jsx)(s.a,{icon:o.a,className:"me-2"}),"Add New Product"]}):void 0,Object(b.jsx)(j.a,{open:E,close:M,data:async e=>{try{const t=e;200===(await fetch("".concat("https://express-server-a.herokuapp.com","/api/product/delete/")+t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}})).status&&window.location.reload()}catch(t){console.error(t),I(!0),D({alertMsg:"We are encountering an issue! ",color:"warning"})}},itemID:g,onClick:()=>{M(!1)},titleModal:"Delete Product?",descModal:"It will be gone forever",visible:E}),Object(b.jsx)(a.U,{children:Object(b.jsx)(a.l,{xs:12,sm:6,children:Object(b.jsxs)(a.h,{className:"mb-4",children:[Object(b.jsx)(a.k,{children:Object(b.jsx)("strong",{children:"All products"})}),Object(b.jsx)(a.i,{children:Object(b.jsxs)("div",{className:"row g-3",children:[Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsx)(a.w,{id:"search",name:"search",placeholder:"Search by Name",onChange:e=>{A(e.target.value)}})}),u.length>0?Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsxs)(a.y,{name:"categoryName","aria-label":"Default select example",onChange:e=>p(e.target.value),children:[Object(b.jsx)("option",{value:"all",onChange:e=>{p(e.target.value)},children:"All"}),u.map(((e,t)=>Object(b.jsx)("option",{value:e._id,children:e.categoryName},t)))]})}):null,Object(b.jsx)("div",{className:"col-auto",children:Object(b.jsxs)(a.f,{color:"primary",onClick:()=>L(),children:[Object(b.jsx)(s.a,{icon:n.a,className:"me-2"}),"Search"]})})]})}),Object(b.jsx)(a.i,{children:Object(b.jsx)(a.l,{xs:12,children:P?Object(b.jsx)(d.a,{data:Z}):null})}),f.length>0?Object(b.jsxs)(a.i,{children:[Object(b.jsxs)(a.cb,{bordered:!0,hover:!0,children:[Object(b.jsx)(a.fb,{color:"dark",children:Object(b.jsxs)(a.hb,{children:[Object(b.jsx)(a.gb,{scope:"col",children:"Products"}),Object(b.jsx)(a.gb,{scope:"col",children:"Stocks"}),Object(b.jsx)(a.gb,{scope:"col",children:"Price"}),"true"===N?Object(b.jsx)(a.gb,{scope:"col",children:"Actions"}):null]})}),Object(b.jsx)(a.db,{children:f.map(((t,r)=>{return Object(b.jsxs)(a.hb,{children:[Object(b.jsx)(a.eb,{children:t.productName}),Object(b.jsx)(a.eb,{children:t.inStock}),Object(b.jsxs)(a.eb,{children:["LKR ",(c=t.price,"".concat(c.toFixed(2)))]}),Object(b.jsx)(a.eb,{className:"d-flex justify-content-evenly",children:Object(b.jsx)("span",{children:"true"===N?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(a.f,{color:"danger",size:"sm",onClick:()=>{M(!0),m(t._id)},children:[Object(b.jsx)(s.a,{icon:l.a,className:"me-2"}),"Delete"]}),Object(b.jsxs)(a.f,{color:"warning",size:"sm",onClick:()=>e.push("/products/".concat(t._id)),children:[Object(b.jsx)(s.a,{icon:h.a,className:"me-2"}),"Edit"]})]}):void 0})})]},r);var c}))})]}),Object(b.jsx)(a.S,{align:"center",children:v.map(((e,r)=>Object(b.jsx)(a.T,{active:B===e||null,onClick:()=>(e=>{w((e=>[])),H(e+1);for(let r=10*e;r<10*(e+1)&&void 0!==t[r];r++)w((e=>[...e,t[r]]))})(r),children:e},r)))})]}):null]})})})]})}}}]);
//# sourceMappingURL=14.d5c2852a.chunk.js.map