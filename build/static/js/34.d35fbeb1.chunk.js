(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{394:function(e,t,s){"use strict";s(1);var a=s(392),c=s(22);t.a=e=>Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(a.a,{color:e.data.color,children:Object(c.jsx)("strong",{children:e.data.alertMsg})})})},562:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(392),r=s(418),n=(s(409),s(410),s(407)),o=s(411),i=s(394),l=s(22);t.default=()=>{const[e,t]=Object(a.useState)([]),[s,j]=Object(a.useState)(!1),[d,h]=Object(a.useState)({alertMsg:"",color:"success"}),[b,O]=Object(a.useState)([]),[u,x]=Object(a.useState)(!1),[g,m]=Object(a.useState)(["#FF6384"]),[p,f]=Object(a.useState)([{startDate:new Date,endDate:Object(n.default)(new Date,0),key:"selection"}]),w=()=>{b.splice(0,b.length),e.splice(0,e.length)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(c.l,{xs:6,children:s?Object(l.jsx)(i.a,{data:d}):null}),Object(l.jsx)(c.U,{children:Object(l.jsx)(c.l,{xs:12,sm:12,children:Object(l.jsxs)(c.h,{className:"mb-4",children:[Object(l.jsx)(c.k,{children:Object(l.jsx)("strong",{children:"Most Ordered City "})}),Object(l.jsx)(c.i,{children:Object(l.jsxs)(c.u,{className:"row g-4",children:[Object(l.jsx)("div",{className:"col-auto",children:Object(l.jsx)(o.DateRangePicker,{onChange:e=>f([e.selection]),showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:1,ranges:p,direction:"horizontal",maxDate:new Date})}),Object(l.jsx)("div",{className:"col-auto",children:Object(l.jsxs)(c.f,{color:"primary",size:"sm",className:"px-4",onClick:()=>{(async()=>{w();try{x(!0),j(!1);const t=await fetch("".concat("https://express-server-a.herokuapp.com","/api/reports/delivery"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")},body:JSON.stringify({state:p})}),s=await t.json();if(200===t.status)for(let a=0;a<s.length;a++)e.push(s[a][0]),b.push(s[a][1]);404===t.status&&(j(!0),h({alertMsg:"No data found",color:"warning"})),x(!1)}catch(t){j(!0),h({alertMsg:"No data found",color:"warning"}),x(!1),console.log(t)}})()},children:[u?Object(l.jsx)(c.Z,{component:"span",size:"sm",variant:"grow","aria-hidden":"true"}):void 0,u?"Loading":"Generate"]})})]})})]})})}),e.length>0?Object(l.jsx)(c.l,{xs:12,children:Object(l.jsxs)(c.h,{className:"mb-4",children:[Object(l.jsx)(c.k,{children:Object(l.jsx)("strong",{children:"Most Ordered City "})}),Object(l.jsx)(c.i,{children:Object(l.jsx)(r.a,{data:{labels:e,datasets:[{label:"Orders count",backgroundColor:"#f87979",data:b}]},labels:"cities"})})]})}):null]})}}}]);
//# sourceMappingURL=34.d35fbeb1.chunk.js.map