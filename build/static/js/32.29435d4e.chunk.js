(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[32],{394:function(e,s,a){"use strict";a(1);var r=a(392),t=a(22);s.a=e=>Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(r.a,{color:e.data.color,children:Object(t.jsx)("strong",{children:e.data.alertMsg})})})},396:function(e,s,a){"use strict";var r=a(1),t=a.n(r),c=a(392),l=a(22);const o=e=>Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(c.I,{backdrop:"static",visible:e.open,onClose:()=>e.close(),children:[Object(l.jsx)(c.L,{children:Object(l.jsx)(c.M,{children:e.titleModal})}),Object(l.jsx)(c.J,{children:e.descModal}),Object(l.jsxs)(c.K,{children:[Object(l.jsx)(c.f,{color:"secondary",onClick:()=>e.close(),children:"Close"}),Object(l.jsx)(c.f,{color:"primary",onClick:()=>{e.data(e.itemID),e.close()},children:"Ok"})]})]})});s.a=t.a.memo(o)},552:function(e,s,a){"use strict";a.r(s);var r=a(1),t=a(404),c=a(392),l=a(394),o=a(396),i=a(22);s.default=()=>{const{register:e,handleSubmit:s,watch:a,formState:{errors:n}}=Object(t.a)({mode:"onTouched"}),[d,m]=Object(r.useState)(!1),[j,h]=Object(r.useState)(!1),[u,b]=Object(r.useState)();var[p,x]=Object(r.useState)(!1);const[O,g]=Object(r.useState)({alertMsg:"",color:"success"});function w(){window.location.reload()}const N=a("password");return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.a,{open:u,close:w,data:w,onClick:()=>{b(!1),w()},titleModal:"User Added Successfully",descModal:"Employee can now login using credentials",visible:u}),Object(i.jsx)(c.l,{xs:6,children:p?Object(i.jsx)(l.a,{data:O}):null}),Object(i.jsx)(c.U,{children:Object(i.jsx)(c.l,{xs:6,children:Object(i.jsxs)(c.h,{className:"mb-4",children:[Object(i.jsx)(c.k,{children:Object(i.jsx)("strong",{children:"Add New Employee"})}),Object(i.jsx)(c.i,{children:Object(i.jsxs)(c.u,{onSubmit:s((async e=>{try{const s=await fetch("".concat("https://express-server-a.herokuapp.com","/api/staff/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")},body:JSON.stringify(e)});201===s.status?(m(!1),x(!1),g({alertMsg:"Updated Successfully",color:"success"}),b(!0)):409===s.status?(m(!1),x(!0),g({alertMsg:"User Name or email already exists",color:"danger"})):422===s.status&&(x(!0),g({alertMsg:"Wrong input. You can check email domain",color:"danger"}))}catch(s){console.error("Error:",s),m(!1),x(!0),g({alertMsg:"Server Error",color:"warning"})}})),children:[Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"User Name"}),Object(i.jsx)(c.w,{type:"text",id:"userName",name:"userName",placeholder:"Kamal",invalid:!!n.userName,...e("userName",{required:"Required",pattern:{value:/^[a-zA-Z]+$/,message:"Enter valid name"}})}),n.userName&&Object(i.jsx)("span",{style:{color:"red"},children:n.userName.message})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"Email"}),Object(i.jsx)(c.w,{type:"text",id:"email",name:"email",placeholder:"abc@gmail.com",invalid:!!n.email,...e("email",{required:"Required",pattern:{value:/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i,message:"Enter valid e-mail"}})}),n.email&&Object(i.jsx)("span",{style:{color:"red"},children:n.email.message})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"First Name"}),Object(i.jsx)(c.w,{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",invalid:!!n.firstName,...e("firstName",{required:"Required",pattern:{value:/^[a-zA-Z]+$/,message:"Enter valid name"}})}),n.firstName&&Object(i.jsx)("span",{style:{color:"red"},children:n.firstName.message})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"Last Name"}),Object(i.jsx)(c.w,{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",invalid:!!n.lastName,...e("lastName",{required:"Required",pattern:{value:/^[a-zA-Z]+$/,message:"Enter valid name"}})}),n.lastName&&Object(i.jsx)("span",{style:{color:"red"},children:n.lastName.message})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"Password"}),Object(i.jsx)(c.w,{type:"Password",id:"password",name:"password",placeholder:"password",invalid:!!n.password,...e("password",{required:"Required",minLength:{value:4,message:"Must be include more than 4 characters"},maxLength:{value:6,message:"Must be less than 7 characters"}})}),n.password&&Object(i.jsx)("span",{style:{color:"red"},children:n.password.message})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)(c.x,{htmlFor:"exampleFormControlInput1",children:"Confirm Password"}),Object(i.jsx)(c.w,{type:"Password",id:"Password2",name:"Password2",placeholder:"Confirm Password",invalid:!!n.Password2,...e("Password2",{required:"Required",validate:e=>e===N||"password do no match"})}),n.Password2&&Object(i.jsx)("span",{style:{color:"red"},children:n.Password2.message})]}),Object(i.jsx)(c.f,{color:"primary",type:"submit",children:"Submit"})]})})]})})})]})}}}]);
//# sourceMappingURL=32.29435d4e.chunk.js.map